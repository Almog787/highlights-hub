name: Update Dashboard README

on:
  workflow_dispatch: # ×”×¤×¢×œ×” ×™×“× ×™×ª ×‘×œ×‘×“ ×ž×”-Actions tab
  push:
    paths:
      - 'manual_links.json' # ×ž×¢×“×›×Ÿ ××ª ×”-README ×‘×›×œ ×¤×¢× ×©×™×© ×©×™× ×•×™ ×‘×ª×•×›×Ÿ

jobs:
  build:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    
    steps:
      - name: Checkout Repository
        uses: actions/checkout@v4

      - name: Generate README File
        run: |
          echo "# ðŸŽµ ×“×©×‘×•×¨×“ ×”×’× × ×ª ×”×ž×§×¦×•×¢×™ | Highlights Hub" > README.md
          echo "" >> README.md
          echo "[![Site Status](https://img.shields.io/website?url=https%3A%2F%2Falmog787.github.io%2Fhighlights-hub%2F&logo=googlechrome&logoColor=white)](https://almog787.github.io/highlights-hub/)" >> README.md
          echo "![GitHub last commit](https://img.shields.io/github/last-commit/Almog787/highlights-hub?color=blue)" >> README.md
          echo "" >> README.md
          echo "## ðŸŒ ××•×“×•×ª ×”×¤×¨×•×™×§×˜" >> README.md
          echo "×ž×¨×›×– ×ž×“×™×” ×“×™×’×™×˜×œ×™ ×ž×ª×§×“× ×”×ž×•×ª×× ××™×©×™×ª ×œ×’× ×™ ×™×œ×“×™× (×’×™×œ××™ 0-4). ×”×ž×¢×¨×›×ª × ×‘× ×ª×” ×‘×ž×˜×¨×” ×œ×¡×¤×§ ×’×™×©×” ×ž×”×™×¨×”, × ×§×™×™×” ×•×¤×“×’×•×’×™×ª ×œ×ª×›× ×™× ×ž×•×–×™×§×œ×™×™× ×•×¡×¨×˜×•× ×™ ×”×¤×¢×œ×” ×œ×œ× ×¤×¨×¡×•×ž×•×ª ×ž×¡×™×—×•×ª ×“×¢×ª." >> README.md
          echo "" >> README.md
          echo "### ðŸš€ ×™×›×•×œ×•×ª ×ž×¨×›×–×™×•×ª" >> README.md
          echo "* **× ×™×”×•×œ ×“×•-×¢×¨×•×¦×™:** ×©×™×œ×•×‘ ×‘×™×Ÿ ×ª×•×›×Ÿ ××•×˜×•×ž×˜×™ (Python Scraper) ×œ×‘×™×Ÿ ×‘×—×™×¨×” ×™×“× ×™×ª ×©×œ ×”×’× × ×ª." >> README.md
          echo "* **×ž×¢×¨×›×™ ×©×™×¢×•×¨ ×ž×•×‘× ×™×:** ×œ×›×œ ×©×™×¨ × ×™×ª×Ÿ ×œ×”×¦×ž×™×“ ×”× ×—×™×•×ª ×¤×¢×™×œ×•×ª ×•×ª× ×•×¢×”." >> README.md
          echo "* **×‘×™×¦×•×¢×™× ×’×‘×•×”×™×:** ×©×™×ž×•×© ×‘-Lazy Loading ×œ×˜×¢×™× ×” ×ž×”×™×¨×” ×‘×ž×™×•×—×“ ×©×œ × ×’× ×™ ×•×™×“××•." >> README.md
          echo "* **×ž×ž×©×§ ××“×ž×™×Ÿ:** ×“×£ × ×™×”×•×œ ×ž××•×‘×˜×— ×œ×¢×“×›×•×Ÿ ×ª×›× ×™× ×‘×–×ž×Ÿ ××ž×ª ×œ×œ× ×¦×•×¨×š ×‘×™×“×¢ ×˜×›× ×™." >> README.md
          echo "" >> README.md
          echo "## ðŸ”— ×§×™×©×•×¨×™× ×ž×”×™×¨×™×" >> README.md
          echo "| ×“×£ ×”×ž×¢×¨×›×ª | ×ž×ž×©×§ × ×™×”×•×œ (Admin) |" >> README.md
          echo "| :--- | :--- |" >> README.md
          echo "| [ðŸ‘‰ ×›× ×™×¡×” ×œ×“×©×‘×•×¨×“ ×”×’× × ×ª](https://almog787.github.io/highlights-hub/) | [âš™ï¸ × ×™×”×•×œ ×ª×›× ×™× ×•×ž×¢×¨×›×™ ×©×™×¢×•×¨](https://almog787.github.io/highlights-hub/admin.html) |" >> README.md
          echo "" >> README.md
          echo "---" >> README.md
          echo "## ðŸŒŸ ×ž×” ×—×“×© ×‘×’×¨×¡×” 2.5?" >> README.md
          echo "* ðŸ” **××‘×˜×—×ª ××“×ž×™×Ÿ:** ×ž×ž×©×§ ×”× ×™×”×•×œ ×ž×•×’×Ÿ ×‘×¡×™×¡×ž×” ××™×©×™×ª." >> README.md
          echo "* â˜ï¸ **GitHub Actions Integration:** ×¢×“×›×•×Ÿ ×”×§×‘×¦×™× ×ž×ª×‘×¦×¢ ×‘×¦×•×¨×” ×ž××•×‘×˜×—×ª ×“×¨×š ×©×¨×ª×™ GitHub." >> README.md
          echo "* ðŸ“ **×¢×¨×™×›×” ×•×™×–×•××œ×™×ª:** ×”×•×¡×¤×” ×•×ž×—×™×§×” ×©×œ ×©×™×¨×™× ×™×©×™×¨×•×ª ×ž×”×“×¤×“×¤×Ÿ." >> README.md
          echo "" >> README.md
          echo "## ðŸ‘¨â€ðŸ’» ×ž×¤×ª×— ×”×ž×¢×¨×›×ª" >> README.md
          echo "[Almog787](https://github.com/Almog787)" >> README.md
          echo "" >> README.md
          echo "---" >> README.md
          echo "*×¢×•×“×›×Ÿ ×œ××—×¨×•× ×” ×¢×œ ×™×“×™ ×”×ž×¢×¨×›×ª ×‘: $(date -u '+%d/%m/%Y %H:%M:%S') UTC*" >> README.md

      - name: Commit and Push Changes
        run: |
          git config --local user.email "github-actions[bot]@users.noreply.github.com"
          git config --local user.name "github-actions[bot]"
          git add README.md
          git commit -m "docs: update README with current links and project info" || exit 0
          git push
