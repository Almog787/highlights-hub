name: Update Dashboard README

on:
  workflow_dispatch: # ×”×¤×¢×œ×” ×™×“× ×™×ª ×‘×œ×‘×“

jobs:
  build:
    runs-on: ubuntu-latest
    permissions:
      contents: write # ×”×¨×©××” ×—×™×•× ×™×ª ×œ×›×ª×™×‘×ª ×”×§×•×‘×¥ ×‘×—×–×¨×” ×œ-GitHub
    
    steps:
      - name: Checkout Repository
        uses: actions/checkout@v4 # ×’×¨×¡×” ×ž×¢×•×“×›× ×ª

      - name: Generate README File
        run: |
          echo "# ðŸŽµ ×“×©×‘×•×¨×“ ×”×’× × ×ª ×”×ž×§×¦×•×¢×™ | ×”×ž×¨×›×– ×”×ž×•×–×™×§×œ×™" > README.md
          echo "" >> README.md
          echo "[![Site Status](https://img.shields.io/website?url=https%3A%2F%2Falmog787.github.io%2Fhighlights-hub%2F&logo=googlechrome&logoColor=white)](https://almog787.github.io/highlights-hub/)" >> README.md
          echo "![GitHub last commit](https://img.shields.io/github/last-commit/Almog787/highlights-hub?color=blue)" >> README.md
          echo "" >> README.md
          echo "## ðŸŒ Project About" >> README.md
          echo "A high-performance, automated media hub tailored for early childhood educators (ages 0-4). Built with a focus on speed, simplicity, and pedagogical flow." >> README.md
          echo "" >> README.md
          echo "### ðŸš€ Key Features" >> README.md
          echo "* **Smart Automation:** Python-based scraper updates seasonal content every 6 hours." >> README.md
          echo "* **Smart Lazy Loading:** Instant load times by using Thumbnail-to-Player rendering." >> README.md
          echo "* **Dual-Source Integration:** Combines automated discovery with manual curation." >> README.md
          echo "* **Zero-Backend:** Purely static architecture hosted on GitHub Pages." >> README.md
          echo "" >> README.md
          echo "## ðŸ”— ×›× ×™×¡×” ×ž×”×™×¨×”" >> README.md
          echo "### ðŸ‘‰ **[×œ×—×¦×™ ×›××Ÿ ×œ×›× ×™×¡×” ×œ×“×©×‘×•×¨×“ ×”×ž×•×–×™×§×œ×™](https://almog787.github.io/highlights-hub/)**" >> README.md
          echo "" >> README.md
          echo "---" >> README.md
          echo "## ðŸŒŸ ×ž×” ×—×“×© ×‘×’×¨×¡×” 2.0?" >> README.md
          echo "* â­ **×”×ž×‘×—×¨ ×©×œ×™:** × ×™×”×•×œ ××™×©×™ ×•×ž×”×™×¨ ×“×¨×š ×§×•×‘×¥ \`manual_links.json\`." >> README.md
          echo "* ðŸŽ­ **×—×’×™ ×™×©×¨××œ:** ×“×’×© ×¢×•× ×ª×™ ×ž×ª×—×œ×£ (×¤×•×¨×™×, ×¤×¡×— ×•×›×•')." >> README.md
          echo "* â˜€ï¸ **×¤×“×’×•×’×™×” ×‘×©×™×ž×•×©:** ×§×˜×’×•×¨×™×•×ª ×œ×ž×¤×’×© ×‘×•×§×¨, ×ª× ×•×¢×” ×•×ž×•×–×™×§×ª ×”×¨×¤×™×”." >> README.md
          echo "" >> README.md
          echo "## ðŸ‘¨â€ðŸ’» ×ž×¤×ª×— ×”×ž×¢×¨×›×ª" >> README.md
          echo "[Almog787](https://github.com/Almog787)" >> README.md
          echo "" >> README.md
          echo "---" >> README.md
          echo "*×¢×•×“×›×Ÿ ×œ××—×¨×•× ×” ×¢×œ ×™×“×™ ×”×ž×¢×¨×›×ª ×‘: $(date -u '+%d/%m/%Y %H:%M:%S') UTC*" >> README.md

      - name: Commit and Push Changes
        run: |
          git config --local user.email "github-actions[bot]@users.noreply.github.com"
          git config --local user.name "github-actions[bot]"
          git add README.md
          git commit -m "docs: update README with latest project info" || exit 0
          git push
